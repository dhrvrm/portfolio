---
import Layout from '../layouts/Layout.astro';
import ExperienceItem from '../components/ExperienceItem.astro';
import { experienceData } from '../data/experience';
---

<Layout title='Experience - Dhruv Verma'>
	<div class='container mx-auto px-6 py-16'>
		<h1 class='text-4xl font-bold mb-12'>Experience</h1>

		<div class='space-y-12'>
			{
				experienceData.map((experience) => (
					<ExperienceItem
						title={experience.title}
						company={experience.company}
						duration={experience.duration}
						achievements={experience.achievements}
					/>
				))
			}
		</div>
	</div>
</Layout>

<script>
	import { gsap } from 'gsap';
	import { ScrollTrigger } from 'gsap/ScrollTrigger';

	gsap.registerPlugin(ScrollTrigger);

	const experienceItems = document.querySelectorAll('.experience-item');

	experienceItems.forEach((item) => {
		gsap.from(item, {
			scrollTrigger: {
				trigger: item,
				start: 'top bottom-=100',
				end: 'top center',
				scrub: 1,
			},
			opacity: 0,
			x: -50,
			borderLeftWidth: 0,
			duration: 1,
			ease: 'power2.out',
		});
	});
</script>

<style>
	.border-gradient-to-r {
		border-image: linear-gradient(
				to bottom,
				var(--tw-gradient-from),
				var(--tw-gradient-to)
			)
			1;
	}
</style>
